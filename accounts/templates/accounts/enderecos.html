{% extends 'global/base.html' %}

{% block texto %}
<section class="secao-enderecos">
    <div class="container-enderecos">
        
        <div class="header-pagina">
            <h2>Meus Endereços</h2>
            <a href="{% url 'dashboard' %}" class="btn-voltar">Voltar ao Painel</a>
        </div>

        <div class="lista-enderecos">
            {% for end in enderecos %}
            <div class="card-endereco">
                <strong>{{ end.rua }}, {{ end.numero }}</strong>
                <p>{{ end.bairro }} - {{ end.cidade }}/{{ end.estado }}</p>
                <p class="cep">CEP: {{ end.cep }}</p>
            </div>
            {% empty %}
            <p class="aviso-vazio">Você ainda não tem endereços cadastrados.</p>
            {% endfor %}
        </div>

        <hr>

        <div class="form-novo-endereco">
            <h3>Adicionar Novo Endereço</h3>
            <form method="POST" class="grid-form">
                {% csrf_token %}
                
                <div class="campo full">
                    <label>CEP</label>
                    <input type="text" name="cep" required placeholder="00000-000">
                </div>
                
                <div class="campo full">
                    <label>Rua / Avenida</label>
                    <input type="text" name="rua" required>
                </div>

                <div class="campo half">
                    <label>Número</label>
                    <input type="text" name="numero" required>
                </div>

                <div class="campo half">
                    <label>Bairro</label>
                    <input type="text" name="bairro" required>
                </div>

                <div class="campo half">
                    <label>Cidade</label>
                    <input type="text" name="cidade" required>
                </div>

                <div class="campo half">
                    <label>Estado (UF)</label>
                    <input type="text" name="estado" required maxlength="2" placeholder="RJ">
                </div>

                <button type="submit" class="btn-adicionar">CADASTRAR ENDEREÇO</button>
            </form>
        </div>

    </div>
</section>

<style>
    .secao-enderecos { padding: 60px 20px; display: flex; justify-content: center; min-height: 80vh; background: #f9f9f9; }
    .container-enderecos { max-width: 600px; width: 100%; }

    .header-pagina { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
    .btn-voltar { text-decoration: none; color: #666; font-size: 0.9rem; }
    
    /* CARDS DE ENDEREÇO */
    .lista-enderecos { display: grid; gap: 15px; margin-bottom: 40px; }
    .card-endereco { background: white; padding: 20px; border: 1px solid #ddd; border-left: 5px solid black; border-radius: 4px; }
    .aviso-vazio { text-align: center; color: #999; font-style: italic; }

    hr { border: 0; border-top: 1px solid #ddd; margin: 30px 0; }

    /* FORMULÁRIO */
    .form-novo-endereco { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    .form-novo-endereco h3 { margin-bottom: 20px; text-transform: uppercase; font-size: 1.1rem; }

    .grid-form { display: flex; flex-wrap: wrap; gap: 15px; }
    .campo { display: flex; flex-direction: column; }
    .campo label { font-size: 0.8rem; font-weight: bold; margin-bottom: 5px; }
    .campo input { padding: 10px; border: 1px solid #ccc; border-radius: 4px; }
    
    .full { width: 100%; }
    .half { width: calc(50% - 8px); } /* Metade menos o gap */

    .btn-adicionar { width: 100%; margin-top: 15px; padding: 15px; background: black; color: white; border: none; font-weight: bold; cursor: pointer; transition: 0.3s; }
    .btn-adicionar:hover { background: #333; }
</style>
{% endblock %}